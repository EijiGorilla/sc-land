"use strict";(self.webpackChunksc_land=self.webpackChunksc_land||[]).push([[48146],{2991:(t,s,e)=>{e.r(s),e.d(s,{default:()=>r});var i=e(35143),n=e(69539),o=(e(76460),e(81806),e(47249),e(50076),e(85842)),a=e(77200);let l=class extends a.default{constructor(t){super(t)}getStopInfo(t){const{min:s,max:e,stops:i}=this;if(!i?.length)return[];const o=this._getColorForStops(t)?.toRgb();return i.map((t=>({color:new n.default(o&&[...o,t.opacity]),offset:(e-t.value)/(e-s)})))}_getColorForStops(t){return t?t instanceof n.default?t:n.default.fromString(t):null}};l=(0,i._)([(0,o.$)("esri.widgets.smartMapping.OpacitySlider.OpacitySliderViewModel")],l);const r=l},48146:(t,s,e)=>{e.r(s),e.d(s,{default:()=>f});var i,n=e(35143),o=e(69539),a=e(46053),l=e(21403),r=(e(81806),e(47249),e(85842)),h=e(51313),m=e(2991),u=e(98108),p=(e(76099),e(63582)),d=e(54761);const g="esri-opacity-slider",c={base:g,rampElement:`${g}__ramp`,sliderContainer:`${g}__slider-container`,histogramContainer:`${g}__histogram-container`,track:`${g}--interactive-track`},_={trackFillColor:new o.default([0,121,193])};let x=i=class extends h.default{constructor(t,s){super(t,s),this.messages=null,this.style={..._},this.viewModel=new m.default,this._rampFillId=`${this.id}-ramp-fill`,this._bgFillId=`${this.id}-bg-fill`}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}get stops(){return this.viewModel.stops}set stops(t){this.viewModel.stops=t}castStyle(t){return{..._,...t}}static fromVisualVariableResult(t,s){const{visualVariable:{stops:e},statistics:n}=t,{avg:o,max:a,min:l,stddev:r}=n;return new i({max:a??void 0,min:l??void 0,stops:e,histogramConfig:{average:o??void 0,standardDeviation:r??void 0,bins:s?s.bins:[]}})}updateFromVisualVariableResult(t,s){const{visualVariable:{stops:e},statistics:i}=t,{avg:n,max:o,min:a,stddev:l}=i;this.set({max:o,min:a,stops:e,histogramConfig:{average:n,standardDeviation:l,bins:s?s.bins:[]}})}render(){const{state:t,label:s,visibleElements:e}=this,i="disabled"===t,n=this.classes(c.base,u.D.widget,u.D.panel,{[u.D.disabled]:i,[c.track]:!!e.interactiveTrack});return(0,d.K)("div",{"aria-label":s,class:n},i?null:this.renderContent(this._renderRamp(),c.sliderContainer,c.histogramContainer))}_renderRamp(){const{_bgFillId:t,_rampFillId:s,style:{trackFillColor:e},viewModel:i,zoomOptions:n}=this,o=i.getStopInfo(e);return(0,d.K)("div",{class:c.rampElement},(0,d.K)("svg",{xmlns:"http://www.w3.org/2000/svg"},(0,d.K)("defs",null,this.renderRampFillDefinition(s,o),this.renderBackgroundFillDefinition(t)),(0,d.K)("rect",{fill:`url(#${t})`,height:"100%",width:"100%",x:"0",y:"0"}),(0,d.K)("rect",{fill:`url(#${s})`,height:"100%",width:"100%",x:"0",y:"0"})),n?this.renderZoomCaps():null)}};(0,n._)([(0,a.MZ)()],x.prototype,"label",null),(0,n._)([(0,a.MZ)(),(0,p.G)("esri/widgets/smartMapping/OpacitySlider/t9n/OpacitySlider")],x.prototype,"messages",void 0),(0,n._)([(0,a.MZ)()],x.prototype,"stops",null),(0,n._)([(0,a.MZ)()],x.prototype,"style",void 0),(0,n._)([(0,l.w)("style")],x.prototype,"castStyle",null),(0,n._)([(0,a.MZ)({type:m.default})],x.prototype,"viewModel",void 0),x=i=(0,n._)([(0,r.$)("esri.widgets.smartMapping.OpacitySlider")],x);const f=x},77200:(t,s,e)=>{e.r(s),e.d(s,{default:()=>h});var i=e(35143),n=e(46053),o=(e(81806),e(76460),e(47249),e(85842)),a=e(6515),l=e(7095);let r=class extends a.default{constructor(t){super(t),this._initialStopValues=[],this._max=null,this._min=null,this.hasTimeData=!1,this.inputFormatFunction=(t,s)=>"max"===s?this.getUnzoomedMax().toString():"min"===s?this.getUnzoomedMin().toString():t.toString(),this.inputParseFunction=null,this.labelFormatFunction=t=>{if(this.hasTimeData)return(0,l.formatDateLabel)(t);const{max:s,min:e,precision:i}=this,n=s-e>10?2:i;return(0,l.formatNumberLabel)(parseFloat(t.toFixed(n)))},this.thumbsConstrained=!1,this.zoomingEnabled=!0}set breaks(t){this._set("breaks",t),this.notifyChange("max"),this.notifyChange("min")}set stops(t){if(t?.length){const{max:s,min:e}=this,i=this.getValuesFromStops(t),n={};null!=e&&i.some((t=>t<e))&&(n.min=Math.min(...i)),null!=s&&i.some((t=>t>s))&&(n.max=Math.max(...i)),this.set({...n}),this._initialStopValues=i}else this._initialStopValues=null;this._set("stops",t||null),this.notifyChange("values")}get labels(){const{values:t}=this,s=t&&t.length?t.map(((t,s)=>this.getLabelForValue(t,"value",s))):[],e=this.getUnzoomedMax(),i=this.getUnzoomedMin();return{max:this.getLabelForValue(e,"max"),min:this.getLabelForValue(i,"min"),values:s}}get max(){const{breaks:t}=this;return t?.length?t[t.length-1].max:this.max}set max(t){const{zoomOptions:s}=this;if(null!=s?.max){const e=this.values;let i=s.max;if(t<i&&(i=t,s.max=t),e&&e.length)for(let s=0;s<e.length;s++)t<e[s]&&this.setValue(s,t);this._storeZoomMax(i,t)}else this.updateBreakMax(t),this.setMax(t);this.notifyChange("labels")}get min(){const{breaks:t}=this;return t?.length?t[0].min:this.min}set min(t){const{zoomOptions:s}=this;if(null!=s?.min){const e=this.values;let i=s.min;if(t>i&&(i=t,s.min=t),e&&e.length)for(let s=0;s<e.length;s++)t>e[s]&&this.setValue(s,t);this._storeZoomMin(i,t)}else this.updateBreakMin(t),this.setMin(t);this.notifyChange("labels")}get state(){const{max:t,min:s,values:e}=this;return null!=t&&null!=s&&e.length>0?"ready":"disabled"}get values(){const{breaks:t,stops:s}=this;if(!t&&!s)return[];if(t?.length){const s=t.map((t=>t.max));return s.pop(),s}if(s?.length<2)return[];const e=this.getValuesFromStops();return[e[0],e[e.length-1]]}set zoomOptions(t){const{zoomingEnabled:s,zoomOptions:e}=this;if(s){if(e){const s=null!=this._max?this._max:this.max,e=null!=this._min?this._min:this.min;if(t){const{max:i,min:n}=t,o=null!=i,a=null!=n,l=a?t.min:e,r=a?e:null,h=o?t.max:s,m=o?s:null;this._storeZoomMin(l,r),this._storeZoomMax(h,m)}else this.setMax(s),this.setMin(e),this._min=null,this._max=null}else if(t){const{max:s,min:e}=t;null!=e&&this._storeZoomMin(t.min,this.min),null!=s&&this._storeZoomMax(t.max,this.max)}this._set("zoomOptions",t),this.notifyChange("max"),this.notifyChange("min")}}getStopIndexFromValueIndex(t){const{stops:s}=this,e=this.values[t];return 0===t?e<=this.values[1]?0:s.length-1:1===t?this.values[0]>=e?0:s.length-1:null}getStopChanges(t,s){const e=this.stops,i=this.getStopIndexFromValueIndex(t),n=this.getValuesFromStops();n[i]=s;const[o,a]=[n[0],n[n.length-1]].sort(((t,s)=>t>s?1:-1)),l=a-o,r=e.length-1;return n.map(((t,s)=>({index:s,value:this.toPrecision(o+s*l/r)})))}setValue(t,s){const{max:e,min:i,values:n}=this,o=n[t];if(isNaN(s)||o===s||s>e||s<i)return;n[t]=this.toPrecision(s),this._set("values",[...n]);const a=n.slice().sort(((t,s)=>t>s?1:-1)),r=a[0],h=a[a.length-1],m=(0,l.getStopChanges)(r,h,this._initialStopValues??[]);this.updateStops(m),this.updateBreaks(),this.notifyChange("labels")}getValuesFromStops(t){const s=t||this.stops;return s?.map((t=>t.hasOwnProperty("ratio")?t.ratio:t.value))}updateBreaks(){const{breaks:t,values:s}=this;t?.length&&s.slice().sort(((t,s)=>t>s?1:-1)).forEach(((s,e)=>{t[e].max=s,null!=t[e+1]&&(t[e+1].min=s)}))}updateBreakMax(t){const{breaks:s,max:e,min:i}=this;!isNaN(t)&&e!==t&&null!=i&&t>i&&s?.length&&(s[s.length-1].max=t)}updateBreakMin(t){const{breaks:s,max:e,min:i}=this;!isNaN(t)&&i!==t&&null!=e&&t<e&&s?.length&&(s[0].min=t)}updateStops(t){const{stops:s}=this,e=this.getValuesFromStops();if(e?.length){for(const s of t)e[s.index]=s.value;s.forEach(((t,s)=>{t.hasOwnProperty("ratio")?t.ratio=e[s]:t.value=e[s]}))}}getUnzoomedMax(){return this.zoomOptions&&null!=this._max?this._max:this.max}getUnzoomedMin(){return this.zoomOptions&&null!=this._min?this._min:this.min}_storeZoomMax(t,s){this._max=s,this.setMax(t)}_storeZoomMin(t,s){this._min=s,this.setMin(t)}};(0,i._)([(0,n.MZ)()],r.prototype,"breaks",null),(0,i._)([(0,n.MZ)()],r.prototype,"stops",null),(0,i._)([(0,n.MZ)()],r.prototype,"hasTimeData",void 0),(0,i._)([(0,n.MZ)()],r.prototype,"inputFormatFunction",void 0),(0,i._)([(0,n.MZ)()],r.prototype,"inputParseFunction",void 0),(0,i._)([(0,n.MZ)()],r.prototype,"labelFormatFunction",void 0),(0,i._)([(0,n.MZ)({readOnly:!0})],r.prototype,"labels",null),(0,i._)([(0,n.MZ)()],r.prototype,"max",null),(0,i._)([(0,n.MZ)()],r.prototype,"min",null),(0,i._)([(0,n.MZ)({readOnly:!0})],r.prototype,"state",null),(0,i._)([(0,n.MZ)()],r.prototype,"thumbsConstrained",void 0),(0,i._)([(0,n.MZ)({readOnly:!0})],r.prototype,"values",null),(0,i._)([(0,n.MZ)()],r.prototype,"zoomingEnabled",void 0),(0,i._)([(0,n.MZ)()],r.prototype,"zoomOptions",null),r=(0,i._)([(0,o.$)("esri.widgets.smartMapping.SmartMappingSliderViewModel")],r);const h=r}}]);
//# sourceMappingURL=48146.93277250.chunk.js.map