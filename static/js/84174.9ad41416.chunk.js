"use strict";(self.webpackChunksc_land=self.webpackChunksc_land||[]).push([[84174],{44300:(e,t,n)=>{n.d(t,{NG:()=>i,Q8:()=>o,mb:()=>r});const l="ProfileGenerationError";var i;!function(e){e.TooComplex="too-complex",e.InvalidGeometry="invalid-geometry",e.InvalidElevationInfo="invalid-elevation-info",e.ElevationQueryError="elevation-query-error"}(i||(i={}));class o extends Error{constructor(e){super("profile could not be generated",{cause:e}),this.type=l}}function r(e){return e.type===l}},54054:(e,t,n)=>{n.d(t,{Fc:()=>d,GJ:()=>i,WG:()=>p,o8:()=>l,zj:()=>c});var l,i,o,r=n(31633),s=n(55855),a=n(45463);(o=l||(l={})).Disabled="disabled",o.Ready="ready",o.Creating="creating",o.Created="created",o.Selecting="selecting",o.Selected="selected",function(e){e.NoValidInput="no-valid-input",e.NoVisibleProfiles="no-visible-profiles",e.InvalidGeometry="invalid-geometry",e.TooComplex="too-complex",e.InvalidElevationInfo="invalid-elevation-info",e.UnknownError="unknown-error",e.RefinedButNoChartData="refined-but-no-chart-data",e.None="none"}(i||(i={}));let u={noDataValue:-5e5,defaultQueryOptions:()=>({noDataValue:u.noDataValue,demResolution:"auto",maximumAutoTileRequests:150,ignoreInvisibleLayers:!0}),updateThrottleMillis:100,delayAfterPreviewMillis:500,defaultDemResolution:(0,r.oU)(10,"centimeters","meters"),densificationMaxSamples:3e3,largeChartSamples:1e4,maxTotalSamples:1e5,maxChartRatio:300,minSlopeSampleDistance:10,formatPrecision:1,profileLinesStyle3D:{width:3,falloff:0,innerWidth:0,innerColor:(0,s.fA)(0,0,0,0),renderOccluded:a.m$.Opaque},profileLinesUpdateThrottleMillis:100,hoveredPointsStyle:{size:14,borderStyle:"solid",borderWidth:3,borderColor:"#ffffff",boxShadow:"0px 0px 0px 5px rgba(255,255,255,0.2)"}};function c(){return u}const d=" \u2015 ",p={progress:1,hasZ:!1,samples:[],statistics:null,spatialReference:null}},57902:(e,t,n)=>{n.d(t,{Ai:()=>h,Rg:()=>x,VJ:()=>R,yK:()=>w});var l=n(15941),i=n(50346),o=n(31633),r=n(19555),s=n(20664),a=n(23701),u=n(9624),c=n(13312),d=n(7137),p=n(12482),f=n(44300);async function h(e,t,l,r,s,a,p){let h,g,y;const w=e.spatialReference,x=w.isGeographic||w.isWebMercator;let R=0;if(!x){const{planarLength:t}=await n.e(56203).then(n.bind(n,56203));(0,i.throwIfAborted)(p),R=await t(e,"meters"),(0,i.throwIfAborted)(p)}const A=1/(0,o.GA)(r);if(x){await(0,u.initializeProjection)([{source:w,dest:r},{source:w,dest:c.default.WGS84}],p);const n=function(e){return(0,d.isSupported)(e.spatialReference)?e:(0,u.project)(e,c.default.WGS84)}(e);h=(0,d.geodesicLengths)([n],"meters")[0];const i=v(h,s);if(G(e,h,i)>a)throw new f.Q8(f.NG.TooComplex);const o=m(n,t,l);({densifiedPath:g,distances:y}=function(e,t,n){const{hasZ:l}=e;return S(e,t,n,E,l?b:Z)}(o,i,A)),g=(0,u.project)(g,r)}else{await(0,u.initializeProjection)([{source:w,dest:r}],p),h=R;const n=v(h,s);if(G(e,h,n)>a)throw new f.Q8(f.NG.TooComplex);const o=m(e,t,l);({densifiedPath:g,distances:y}=function(e,t,n){const{hasZ:l}=e;return S(e,t,n,_,l?P:M)}(o,n,A)),(0,i.throwIfAborted)(p),g=(0,u.project)(g,r)}return{densifiedPath:g,pathLength:h*A,distances:y}}function v(e,t){const n=e/t.densificationMaxSamples;return Math.max(t.samplingDistance,n)}function m(e,t,n){if(null==t)return g(e);const l=e.spatialReference,i=t.mode,o=(0,p.Ze)(t,l);let r=null;switch(n.type){case"2d":r=function(e,t,n){let{hasZ:l}=e;return"absolute-height"===t?l?e=>{let[t,l,i]=e;return[t,l,i+n]}:e=>{let[t,l]=e;return[t,l,n]}:null}(e,i,o);break;case"3d":r=function(e,t,n,l){let{spatialReference:i,hasZ:o}=e,{elevationProvider:r}=l;const s=(e,t,n,l)=>r?.getElevation(e,t,n,i,l)??0;switch(t){case"on-the-ground":return e=>{let[t,n]=e;return[t,n,s(t,n,0,"ground")]};case"absolute-height":return o?e=>{let[t,l,i]=e;return[t,l,i+n]}:e=>{let[t,l]=e;return[t,l,n]};case"relative-to-ground":return o?e=>{let[t,l,i]=e;return[t,l,i+s(t,l,i,"ground")+n]}:e=>{let[t,l]=e;return[t,l,s(t,l,0,"ground")+n]};case"relative-to-scene":return o?e=>{let[t,l,i]=e;return[t,l,i+s(t,l,i,"scene")+n]}:e=>{let[t,l]=e;return[t,l,s(t,l,0,"scene")+n]};default:return null}}(e,i,o,n)}return null==r?g(e):new a.default({hasZ:!0,hasM:!1,spatialReference:l,paths:y(e.paths,r)})}function g(e){return e.hasZ?new a.default({hasZ:!1,hasM:!1,spatialReference:e.spatialReference,paths:y(e.paths,(e=>{let[t,n]=e;return[t,n]}))}):e}function y(e,t){const n=e.length,l=new Array(n);for(let i=0;i<n;++i){const n=e[i],o=n.length,r=new Array(n.length);l[i]=r;for(let e=0;e<o;++e)r[e]=t(n[e])}return l}function w(e){return x(e)&&e.paths.length>0&&e.paths.every((e=>e.length>=2))}function x(e){return null!=e&&"polyline"===e.type}function S(e,t,n,i,r){const{spatialReference:s,hasZ:u}=e,c={from:null,to:null,distance:0,azimuth:0,reverseAzimuth:0,spatialReference:s,metersPerSR:(0,o.GA)(s)},d=[],p=[];let f=0;for(let o=0;o<e.paths.length;++o){const s=e.paths[o],a=new Array,u=new Array;let h=0;for(let e=1;e<s.length;++e){const o=s[e-1],d=s[e],p=i(c,o,d);let v;for(v=h;v<p.distance&&!(0,l.Io)(v,p.distance);v+=t)a.push(r(p,v)),u.push((f+v)*n);h=v-p.distance,f+=p.distance,a.push(d),u.push(f*n)}d[o]=a,p[o]=u}return{densifiedPath:new a.default({spatialReference:s,hasZ:u,paths:d}),distances:p}}function E(e,t,n){return e.distance=0,(0,d.inverseGeodeticSolver)(e,t,n,e.spatialReference),e.from=t,e.to=n,e}function _(e,t,n){return e.from=t,e.to=n,e.distance=(0,r.Io)(n,t)*e.metersPerSR,e}function Z(e,t){let{from:n,azimuth:l,spatialReference:i}=e;return(0,d.directGeodeticSolver)([0,0],n,l,t,i)}function b(e,t){let{from:n,to:i,azimuth:o,distance:r,spatialReference:s}=e;const a=t/r,u=[0,0,(0,l.Cc)(n[2],i[2],a)];return(0,d.directGeodeticSolver)(u,n,o,t,s),u}function M(e,t){let{from:n,to:l,distance:i}=e;return(0,r.Cc)([0,0],n,l,t/i)}function P(e,t){let{from:n,to:l,distance:i}=e;return(0,s.m)([0,0,0],n,l,t/i)}function R(e){return e.paths.reduce(((e,t)=>e+t.length),0)}function G(e,t,n){return R(e)+Math.floor(t/n)+Math.max(0,e.paths.reduce((e=>1+e),0)-1)}},71587:(e,t,n)=>{function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e>=t)return n;if(n.push(e),t-e<2)return n;const l=t-1;n.push(l);const o=i(e+1,l);for(;;){const e=o.next();if(e.done)break;n.push(e.value)}return n}function*i(e,t){if(e>=t)return;const n=e+Math.floor((t-e)/2);yield n;const l=i(e,n),o=i(n+1,t);for(;;){const e=l.next(),t=o.next();if(e.done&&t.done)break;e.done||(yield e.value),t.done||(yield t.value)}}n.d(t,{s:()=>l})},78369:(e,t,n)=>{n.d(t,{LD:()=>w,qX:()=>b,uK:()=>m});var l=n(18690),i=n(15941),o=n(50346),r=n(66388),s=n(5262),a=n(80963),u=n(27243),c=n(59752),d=n(54054),p=n(57902),f=n(44300),h=n(95507),v=n(71587);async function*m(e,t){const{view:n,geometry:l,elevationInfo:i,providers:r,options:s}=e,a=n.spatialReference;if(!a||null==l||!(0,p.yK)(l))throw new f.Q8(f.NG.InvalidGeometry);const u=r.length;if(0===u)return null;const c=Math.round(s.maxTotalSamples/u);if((0,p.VJ)(l)>c)throw new f.Q8(f.NG.TooComplex);const h=await(0,p.Ai)(l,i,n,a,s,c,t);let v=0;const m=new Array(u),y=new Array(u);for(let o=0;o<u;o++){const n=S(h);m[o]=n,v+=n.samples.length;const l={...e,provider:r[o],result:n,densificationResult:h};y[o]=g(l,t)[Symbol.iterator]()}if(v>s.maxTotalSamples)throw new f.Q8(f.NG.TooComplex);const w=await Promise.all(y.map((e=>{const t=e.next();return!0===t.done?Promise.resolve(null):t.value})));(0,o.throwIfAborted)(t);for(let o=0;o<u;o++)m[o]=w[o];yield m,await(0,o.after)(e.delayAfterPreview??(0,d.zj)().delayAfterPreviewMillis,null,t.signal);const x=[];try{let e;do{e=!1;for(let t=0;t<u;t++){const n=y[t].next();!1===n.done&&(x.push({resultPromise:n.value,index:t}),e=!0)}}while(e)}finally{y.forEach((e=>e.return?.()))}for(const{resultPromise:d,index:p}of x)m[p]=await d,(0,o.throwIfAborted)(t),yield m;for(const o of m)null!=o&&(o.progress=1);yield m}function*g(e,t){const{densificationResult:n}=e,i={...e,abortOptions:t,densificationResult:n},o=(0,v.s)(0,i.result.samples.length),r=o.slice(0,i.provider.numSamplesForPreview);yield y(i,r,!0);const s=(0,l.Ho)(o,i.provider.numSamplesPerChunk);for(const l of s)yield y(i,l,!1)}async function y(e,t,n){let{densificationResult:l,result:i,provider:s,queue:a,abortOptions:u,cache:c}=e;const{densifiedPath:p,pathLength:f}=l,h=i.spatialReference,{samples:v}=i,m=[];for(let o=0;o<t.length;o++){const e=v[t[o]];m[o]=e.coordinate}try{return await a.push({geometry:new r.default({spatialReference:h,points:m,hasZ:p.hasZ}),provider:s,indices:t,preview:n,result:i,queryOptions:{...(0,d.zj)().defaultQueryOptions(),minDemResolution:n?Math.round(f/s.numSamplesForPreview):Math.round(f/v.length),cache:c}},u),{...i}}catch(g){return(0,o.isAbortError)(g)?null:d.WG}}function w(e){return new u.F({priority:c.W6.ELEVATION_PROFILE,concurrency:1,scheduler:e,process:async e=>{(0,o.throwIfAborted)(e.queryOptions);try{await async function(e){let{geometry:t,provider:n,indices:l,preview:i,result:o,queryOptions:r}=e;if(0===l.length)return;const s=(await async function(e,t,n){try{return await e.queryElevation(t,n)}catch(i){throw new f.Q8(f.NG.ElevationQueryError)}}(n,t,r)).geometry,{hasZ:a,points:u}=s,c=r.noDataValue,{samples:d}=o;for(let p=0;p<l.length;p++){const e=d[l[p]];if(e.isHole)continue;const t=a?u[p][2]:null;null===t||t===c?e.sampledZ=null:(o.hasZ=!0,e.sampledZ=t),e.sampled=!0}(function(e){const t=e.length-1;let n=0;for(let l=1;l<=t;l++)(e[l].sampled||l===t)&&(x(e,n,l),n=l)})(d),o.progress=i?0:o.progress+l.length/d.length,o.statistics=(0,h.mW)(o.samples,o.spatialReference)}(e)}catch(t){(0,o.throwIfNotAbortError)(t)}}})}function x(e,t,n){if(n-t==1)return;const l=e[t],o=l.sampledZ,r=e[n],s=r.sampledZ;if(null==o||null==s){for(let l=t+1;l<n;l++)e[l].sampledZ=null;return}const a=l.distance,u=r.distance-a;for(let c=t+1;c<n;c++){const t=e[c],n=(t.distance-a)/u;t.sampledZ=(0,i.Cc)(o,s,n)}}function S(e){let{densifiedPath:t,distances:n}=e;const l=t.spatialReference,i=(0,a.Vp)(l),o=t.paths,r=o.length,u=[];let c=null,d=0;for(let a=0;a<r;a++){const e=o[a],t=e.length,l=n[a];for(let n=0;n<t;n++){const t=e[n],o=l[n];i&&(t[0]=(0,s.N6)(t[0],i.valid[0],i.valid[1])),c&&0===n&&E(u,c,t,d,o),u.push(_(t,o)),c=t,d=o}}return{progress:0,samples:u,hasZ:!1,statistics:null,spatialReference:l}}function E(e,t,n,l,i){e.push(Z(t,l)),e.push(Z(n,i))}function _(e,t){return{coordinate:e,distance:t,sampledZ:null,sampled:!1,isHole:!1}}function Z(e,t){return{coordinate:e,distance:t,sampledZ:null,sampled:!0,isHole:!0}}function b(e,t,n){if(!e||0===e.length)return;const l=e.length-1,i=e[0];if(t<=n(i))return i;const o=e[l];if(t>=n(o))return o;let r=0,s=0,a=l;for(;r<a;){s=r+Math.floor((a-r)/2);const i=e[s],o=n(i);if(o===t)return i;if(t<o){if(s>0){const l=e[s-1],r=n(l);if(t>r)return t-r>=o-t?i:l}a=s}else{if(s<l){const l=e[s+1],r=n(l);if(t<r)return t-o>=r-t?l:i}r=s+1}}return e[s]}},84174:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});var l=n(35143),i=n(69539),o=n(54099),r=n(54901),s=n(56002),a=n(68134),u=n(49723),c=n(46053),d=(n(81806),n(76460),n(47249),n(85842)),p=n(19247),f=n(54054),h=n(78369),v=n(31633);function m(e,t,n){return null==e?null:(0,v.oU)(e*t,"meters",n)}function g(e,t,n){return null==e?null:(0,v.oU)(e*t,"meters",n)}let y=class extends o.A.EventedAccessor{constructor(e){super(e),this.type=null,this.id=(0,u.lk)(),this.title=null,this.color=new i.default("#000000"),this.visible=!0,this._getSamplesMemoized=(0,s.B)(((e,t)=>function(e,t){if(null==e||null==t)return null;const{samples:n,spatialReference:l}=e,{distance:i,elevation:o}=t,r=(0,v.GA)(l),s=(0,v.G9)(l),a=n.length,u=new Array(a);for(let c=0;c<a;++c){const e=n[c],t=e.sampledZ,l=e.coordinate;u[c]={x:l[0],y:l[1],z:t,distance:m(e.distance,r,i),elevation:g(t,s,o)}}return u}(e,t))),this._getStatisticsMemoized=(0,s.B)(((e,t)=>function(e,t){if(null==e||null==t||null==e.statistics||null==e.spatialReference)return null;const{distance:n,elevation:l}=t,{statistics:i,spatialReference:o}=e,r=(0,v.GA)(o),s=(0,v.G9)(o);return{maxDistance:m(i.maxDistance,r,n),minElevation:g(i.minElevation,s,l),maxElevation:g(i.maxElevation,s,l),avgElevation:g(i.avgElevation,s,l),elevationGain:g(i.elevationGain,s,l),elevationLoss:g(i.elevationLoss,s,l),maxPositiveSlope:i.maxPositiveSlope,maxNegativeSlope:i.maxNegativeSlope,avgPositiveSlope:i.avgPositiveSlope,avgNegativeSlope:i.avgNegativeSlope}}(e,t))),this.viewVisualizationEnabled=!0,this.result=null,this.effectiveUnits=null,this.numSamplesForPreview=30,this.numSamplesPerChunk=200,this.chartFillEnabled=!0,this.chartStrokeWidth=1.5,this.chartStrokeOffsetY=0,this._viewModel=null}get progress(){return null!=this.result&&this.visible?this.result.progress:0}get samples(){return this._getSamplesMemoized(this.result,this.effectiveUnits)}get statistics(){return this._getStatisticsMemoized(this.result,this.effectiveUnits)}get hoveredPoint(){const e=this._viewModel?.hoveredChartPosition;return null!=e?this._getPoint(e):null}get available(){return!0}get hasZ(){const e=this.result;return null!=e&&e.hasZ}get minDemResolution(){return(0,f.zj)().defaultDemResolution}queryElevation(){throw new Error("not implemented")}attach(e){return this._viewModel=e,(0,r.vE)([(0,a.watch)((()=>e.effectiveUnits),(e=>{this.effectiveUnits=e}),a.syncAndInitial),(0,a.watch)((()=>[e.input]),(()=>this._onChange()),a.sync)])}toggleVisibility(e){this.visible=void 0===e?!this.visible:e}_onChange(){this.emit("change")}_getPoint(e){const{samples:t,result:n}=this;if(null==t||null==n)return null;const l=t.length;if(0===l)return null;const i=t[l-1].distance,o=(0,h.qX)(t,e*i,(e=>e.distance));if(null==o)return null;const{x:r,y:s,z:a}=o;return null==a?null:new p.default({x:r,y:s,z:a,spatialReference:n.spatialReference})}};(0,l._)([(0,c.MZ)({nonNullable:!0})],y.prototype,"id",void 0),(0,l._)([(0,c.MZ)({nonNullable:!0})],y.prototype,"title",void 0),(0,l._)([(0,c.MZ)({type:i.default,nonNullable:!0})],y.prototype,"color",void 0),(0,l._)([(0,c.MZ)({nonNullable:!0})],y.prototype,"visible",void 0),(0,l._)([(0,c.MZ)({readOnly:!0})],y.prototype,"progress",null),(0,l._)([(0,c.MZ)({readOnly:!0})],y.prototype,"samples",null),(0,l._)([(0,c.MZ)({readOnly:!0})],y.prototype,"statistics",null),(0,l._)([(0,c.MZ)()],y.prototype,"hoveredPoint",null),(0,l._)([(0,c.MZ)()],y.prototype,"viewVisualizationEnabled",void 0),(0,l._)([(0,c.MZ)()],y.prototype,"available",null),(0,l._)([(0,c.MZ)()],y.prototype,"result",void 0),(0,l._)([(0,c.MZ)()],y.prototype,"effectiveUnits",void 0),(0,l._)([(0,c.MZ)()],y.prototype,"numSamplesForPreview",void 0),(0,l._)([(0,c.MZ)()],y.prototype,"numSamplesPerChunk",void 0),(0,l._)([(0,c.MZ)()],y.prototype,"chartFillEnabled",void 0),(0,l._)([(0,c.MZ)()],y.prototype,"chartStrokeWidth",void 0),(0,l._)([(0,c.MZ)()],y.prototype,"chartStrokeOffsetY",void 0),(0,l._)([(0,c.MZ)({readOnly:!0})],y.prototype,"hasZ",null),(0,l._)([(0,c.MZ)({readOnly:!0})],y.prototype,"minDemResolution",null),(0,l._)([(0,c.MZ)()],y.prototype,"_viewModel",void 0),y=(0,l._)([(0,d.$)("esri.widgets.ElevationProfile.ElevationProfileLine")],y);const w=y},95507:(e,t,n)=>{n.d(t,{DM:()=>a,ch:()=>s,mW:()=>r});var l=n(18690),i=n(31633),o=n(54054);function r(e,t){const n=e.length;if(0===n)return null;const l=e[0],r=l.sampledZ;let s=r,a=r,d=0,f=0,h=null,v=null,m=null!=r?r:0,g=0,y=0,w=null!=r?1:0,x=0,S=0;const E=(0,i.GA)(t),_=(0,i.G9)(t),Z=(0,o.zj)().minSlopeSampleDistance/E,b=2*Z,M=new p,P=new p,R=()=>{A(),M.copy(P),P.reset()},G=(e,t)=>{R(),e>0&&e-M.start<=b&&(e=M.start+Z),P.restart(e,t)},A=()=>{if(M.isHole||P.isHole)return;const e=P.avgElevation-M.avgElevation,t=P.start-M.start,n=e*_,l=t*E,o=(0,i.oU)(Math.atan2(n,l),"radians","degrees");o>0?(g+=o,h=c(h,o),x++):o<0&&(y-=o,v=c(v,-o),S++)};null!=l.sampledZ&&G(l.distance,l.sampledZ);for(let i=1;i<n;++i){const t=e[i-1],n=e[i],l=n.sampledZ;if(null==l){P.isHole||R();continue}w++,m+=l,s=u(s,l),a=c(a,l),P.isHole||n.distance-P.start>=Z?G(n.distance,l):P.insert(l);const o=t.sampledZ;if(null!=o){const e=l-o;e>0?d+=e:e<0&&(f-=e)}}return R(),0===w?null:{maxDistance:e[n-1].distance,minElevation:s,maxElevation:a,avgElevation:0===w?null:m/w,elevationGain:d,elevationLoss:f,maxPositiveSlope:h,maxNegativeSlope:v,avgPositiveSlope:0===x?null:g/x,avgNegativeSlope:0===S?null:y/S}}function s(e){const t=e.filter(l.Ru),n=t.length;if(0===n)return null;const i=t[0];if(1===n)return i;let o=i.maxDistance,r=i.minElevation,s=i.maxElevation,a=i.maxPositiveSlope,d=i.maxNegativeSlope;for(let l=1;l<t.length;++l){const e=t[l];o=c(o,e.maxDistance),r=u(r,e.minElevation),s=c(s,e.maxElevation),a=c(a,e.maxPositiveSlope),d=c(d,e.maxNegativeSlope)}return{maxDistance:o,minElevation:r,maxElevation:s,avgElevation:null,elevationGain:null,elevationLoss:null,maxPositiveSlope:a,maxNegativeSlope:d,avgPositiveSlope:null,avgNegativeSlope:null}}function a(e){let t=null,n=null,l=null;for(const o of e){if(null==o)continue;const{statistics:e,spatialReference:r}=o;if(null==e)continue;const s=(0,i.GA)(r);t=c(t,d(e.maxDistance,s));const a=(0,i.G9)(r);l=u(l,d(e.minElevation,a)),n=c(n,d(e.maxElevation,a))}return{minDistance:0,maxDistance:t??0,minElevation:l??0,maxElevation:n??0}}function u(e,t){return null==t?e:null!=e?Math.min(e,t):t}function c(e,t){return null==t?e:null!=e?Math.max(e,t):t}function d(e,t){return null!=e&&null!=t?e*t:null}class p{constructor(){this._start=0,this._totalElevation=0,this._sampleCount=0}get avgElevation(){return this._totalElevation/this._sampleCount}get isHole(){return 0===this._sampleCount}get start(){return this._start}copy(e){this._start=e._start,this._sampleCount=e._sampleCount,this._totalElevation=e._totalElevation}reset(){this._start=0,this._sampleCount=0,this._totalElevation=0}restart(e,t){this._start=e,this._sampleCount=1,this._totalElevation=t}insert(e){++this._sampleCount,this._totalElevation+=e}}}}]);
//# sourceMappingURL=84174.9ad41416.chunk.js.map